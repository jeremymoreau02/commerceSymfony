{% extends 'loggedpage.html.twig' %}

{% block content %}
    <section class="content-header">
        <h1>
            Créer un nouveau produit
            <small>Formulaire de création</small>
        </h1>
        <ol class="breadcrumb">
            <li>
                <a href="/listUsers">
                    <i class="fa fa-dashboard"></i>
                    Produits
                </a>
            </li>
            <li class="active">
                <i class="ion ion-ios-game-controller-b"></i>
                Nouveau produit
            </li>
        </ol>
    </section>

    <section class="content">
        <div class="row">
            <div class="col-md-12">
                <div class="box box-info">
                <form {% if productToUpdate is defined %} action="/updateProduct/{{ productToUpdate.id }}" {% else %} action="/newProduct" {% endif %} method="post">
                    <div class="box-header">
                        <h3 class="box-title">Formulaire</h3>
                    </div>
                    <div class="box-body table-responsive no-padding ">
                        
                            <div class="form-group">
                                <label for="libelle" class="col-sm-2 control-label">Nom</label>
                                <div class="col-sm-8">
                                    <input type="text" id="nom" class="form-control" name="libelle" placeholder="Libelle" {% if productToUpdate is defined %} value="{{ productToUpdate.libelle }}" {% endif %}/>
                                </div>
                            </div>
                            <br/><br/>
                            <div class="form-group">
                                <label for="reference" class="col-sm-2 control-label">Référence</label>
                                <div class="col-sm-8">
                                    <input type="number" step="1" id="reference" class="form-control" name="reference" placeholder="Reference" {% if productToUpdate is defined %} value="{{ productToUpdate.reference }}" {% endif %}/>
                                </div>
                            </div>
                            <br/><br/>
                            <div class="form-group">
                                <label for="prixAchat" class="col-sm-2 control-label">Prix d'achat</label>
                                <div class="col-sm-8">
                                    <input type="number" step="0.01" id="prixAchat" class="form-control" name="prixAchat" placeholder="Prix d'achat" {% if productToUpdate is defined %} value="{{ productToUpdate.prixAchat }}" {% endif %}/>
                                </div>
                            </div>
                            <br/><br/>
                            <div class="form-group">
                                <label for="prixVente" class="col-sm-2 control-label">Prix de vente</label>
                                <div class="col-sm-8">
                                    <input type="number" step="0.01" id="prixVente" class="form-control" name="prixVente" placeholder="Prix de vente" {% if productToUpdate is defined %} value="{{ productToUpdate.prixVente }}" {% endif %}/>
                                </div>
                            </div>
                            <br/><br/><div class="form-group">
                                <label for="tva" class="col-sm-2 control-label">TVA</label>
                                <div class="col-sm-8">
                                    <input type="number" step="0.01" id="tva" class="form-control" name="tva" placeholder="TVA" {% if productToUpdate is defined %} value="{{ productToUpdate.tva }}" {% endif %}/>
                                </div>
                            </div>
                            <br/><br/>
                            <div class="form-group col-sm-8">
                                <label >Catégorie du produit</label>
                                <select class="form-control col-sm-1" name="cat">
                                    {% if productToUpdate is defined %}
                                        {% for cat in categories %}
                                            {% if cat.nom == productToUpdate.categorie %}
                                                <option>{{ cat.nom }}</option>
                                            {% endif %}
                                        {% endfor %}
                                        {% for cat in categories %}
                                            {% if cat.nom != productToUpdate.categorie %}
                                                <option>{{ cat.nom }}</option>
                                            {% endif %}
                                        {% endfor %}
                                    {% else %}
                                        {% for cat in categories %}
                                                <option>{{ cat }}</option>
                                        {% endfor %}
                                    {% endif %}
                                </select>
                            </div>
                       

                        {% for error in errors %}
                            <p class="text-danger">{{ error }}</p>
                        {% endfor %}
                    </div>
                    <div class="box-footer">
                        <button type="submit" class="col-sm-2 btn btn-info pull-right">Créer</button>
                    </div>
                     </form>
                </div>
            </div>
        </div>
    </section>
{% endblock %}
